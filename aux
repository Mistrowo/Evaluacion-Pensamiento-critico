let currentQuestion = 0;
let questions = []; // Este array se llenarÃ¡ con las preguntas desde el servidor

document.addEventListener('DOMContentLoaded', () => {
    fetch('/random-question') // Usa la ruta correcta definida en el servidor
        .then(response => response.json())
        .then(data => {
            questions = [data]; // Asume que la respuesta es una sola pregunta
            updateContent();
            updateProgressBar();
        });

    const backButton = document.getElementById('backButton');
    const nextButton = document.getElementById('nextButton');

    backButton.addEventListener('click', () => {
        if (currentQuestion > 0) {
            currentQuestion--;
            updateContent();
            updateProgressBar();
        }
    });

    nextButton.addEventListener('click', () => {
        if (currentQuestion < questions.length - 1) {
            currentQuestion++;
            updateContent();
            updateProgressBar();
        } else {
            console.log("Has completado todas las preguntas.");
        }
    });
});

function updateContent() {
    const questionElement = document.querySelector('.question');
    questionElement.textContent = questions[currentQuestion].pregunta;
}

function updateProgressBar() {
    const progressBar = document.querySelector('.progress');
    const progressPercentage = ((currentQuestion + 1) / questions.length) * 100;
    progressBar.style.width = `${progressPercentage}%`;
}
